<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="login.component.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
  <div class="background"></div>
    <div class="wrapper">
      <div class="logo-container">
        <img src="assets/imagen/logo.jpeg" alt="eTesla Logo" class="logo">
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <h1>Iniciar Sesi칩n</h1>

        <div class="input-box">
          <input type="text" formControlName="email" placeholder="Correo" required>
          <i class='bi bi-envelope'></i>
        </div>

        <div *ngIf="loginForm.get('email')?.invalid && (loginForm.get('email')?.dirty || loginForm.get('email')?.touched)">
          <!-- {{ getErrorMessage('email') }} -->
        </div>

        <div class="input-box">
          <input [type]="passwordVisible ? 'text' : 'password'" formControlName="password" placeholder="Contrase침a" required>
          <i class="bi" [ngClass]="passwordVisible ? 'bi-eye-slash' : 'bi-eye'" (click)="togglePasswordVisibility()"></i> 
        </div>

        <div *ngIf="loginForm.get('password')?.invalid && (loginForm.get('password')?.dirty || loginForm.get('password')?.touched)">
          <!-- {{ getErrorMessage('password') }} -->
        </div>

        <div class="remember-forgot">
          <label><input type="checkbox">Recordar</label>
          <a href="#">Olvido contrase침a</a>
        </div>

        <button type="submit" class="btn" [disabled]="isLoading">
          {{ isLoading ? 'Cargando...' : 'Iniciar' }}
        </button>

        <div *ngIf="message" class="message" [ngClass]="{'error-message': message.includes('inv치lidas') || message.includes('Error')}">
          {{ message }}
        </div>

      </form>
    </div>

  </body>
  </html>